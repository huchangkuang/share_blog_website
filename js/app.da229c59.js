(function(e){function n(n){for(var r,a,c=n[0],i=n[1],s=n[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(u,a)&&u[a]&&d.push(u[a][0]),u[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);f&&f(n);while(d.length)d.shift()();return o.push.apply(o,s||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],r=!0,a=1;a<t.length;a++){var c=t[a];0!==u[c]&&(r=!1)}r&&(o.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},a={app:0},u={app:0},o=[];function c(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-05a3dc5d":"f5b1dc7e","chunk-2d212bc4":"58f417cf","chunk-3a208775":"01abc654","chunk-2d0c89ac":"cea40c56","chunk-2d21eec9":"190cac9f","chunk-3284425f":"7156e5d9","chunk-36169a9c":"cedf380b","chunk-3724e60e":"0967e2f7","chunk-60c882d8":"33cbfe18","chunk-3e24fb0d":"5d7166c2"}[e]+".js"}function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t={"chunk-05a3dc5d":1,"chunk-3a208775":1,"chunk-3284425f":1,"chunk-36169a9c":1,"chunk-3724e60e":1,"chunk-60c882d8":1,"chunk-3e24fb0d":1};a[e]?n.push(a[e]):0!==a[e]&&t[e]&&n.push(a[e]=new Promise((function(n,t){for(var r="css/"+({}[e]||e)+"."+{"chunk-05a3dc5d":"3af80361","chunk-2d212bc4":"31d6cfe0","chunk-3a208775":"3af80361","chunk-2d0c89ac":"31d6cfe0","chunk-2d21eec9":"31d6cfe0","chunk-3284425f":"ba076d82","chunk-36169a9c":"67d9ea61","chunk-3724e60e":"bae328c8","chunk-60c882d8":"932f8520","chunk-3e24fb0d":"dc64d635"}[e]+".css",u=i.p+r,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var s=o[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===u))return n()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){s=d[c],l=s.getAttribute("data-href");if(l===r||l===u)return n()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=n,f.onerror=function(n){var r=n&&n.target&&n.target.src||u,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],f.parentNode.removeChild(f),t(o)},f.href=u;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){a[e]=0})));var r=u[e];if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,t){r=u[e]=[n,t]}));n.push(r[2]=o);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=c(e);var d=new Error;s=function(n){l.onerror=l.onload=null,clearTimeout(f);var t=u[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,t[1](d)}u[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(n)},i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/share_blog_website/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var d=0;d<s.length;d++)n(s[d]);var f=l;o.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"2b7c":function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));t("d3b7");var r=t("bc3a"),a=t.n(r),u=t("5c96");function o(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,o){var c={url:e,method:n};"get"===n.toLowerCase()?c.params=t:c.data=t,a()(c).then((function(e){console.log(e.data),"ok"===e.data.status?r(e.data):u["Message"].error(e.data.msg)})).catch((function(e){console.log(e.data),u["Message"].error("网络异常"),o({msg:"网络异常"})}))}))}a.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",a.a.defaults.baseURL="//blog-server.hunger-valley.com",a.a.defaults.withCredentials=!0},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},u=[],o={name:"App",components:{}},c=o,i=(t("5c0b"),t("2877")),s=Object(i["a"])(c,a,u,!1,null,null,null),l=s.exports,d=(t("45fc"),t("d3b7"),t("8c4f")),f=t("2f62"),h=(t("96cf"),t("1da1")),p=t("2b7c"),m={REGISTER:"/auth/register",LOGIN:"/auth/login",LOGOUT:"/auth/logout",GET_INFO:"/auth"},g={register:function(e){var n=e.username,t=e.password;return Object(p["a"])(m.REGISTER,"POST",{username:n,password:t})},login:function(e){var n=e.username,t=e.password;return Object(p["a"])(m.LOGIN,"POST",{username:n,password:t})},logout:function(){return Object(p["a"])(m.LOGOUT)},getInfo:function(){return Object(p["a"])(m.GET_INFO)}},b={user:null,isLogin:!1},k={user:function(e){return e.user},isLogin:function(e){return e.isLogin}},v={setUser:function(e,n){e.user=n.user},setLogin:function(e,n){e.isLogin=n.isLogin}},w={login:function(e,n){var t=e.commit,r=n.username,a=n.password;return g.login({username:r,password:a}).then((function(e){t("setUser",{user:e.data}),t("setLogin",{isLogin:!0})}))},register:function(e,n){return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,a,u,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=n.username,u=n.password,t.next=4,g.register({username:a,password:u});case 4:o=t.sent,r("setUser",{user:o.data}),r("setLogin",{isLogin:!0});case 7:case"end":return t.stop()}}),t)})))()},logout:function(e){return Object(h["a"])(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.commit,n.next=3,g.logout();case 3:t("setUser",{user:null}),t("setLogin",{isLogin:!1});case 5:case"end":return n.stop()}}),n)})))()},checkLogin:function(e){return Object(h["a"])(regeneratorRuntime.mark((function n(){var t,r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t=e.commit,r=e.state,!r.isLogin){n.next=3;break}return n.abrupt("return",!0);case 3:return n.next=5,g.getInfo();case 5:if(a=n.sent,t("setLogin",{isLogin:a.isLogin}),!a.isLogin){n.next=9;break}return n.abrupt("return",!1);case 9:return t("setUser",{user:a.data}),n.abrupt("return",!0);case 11:case"end":return n.stop()}}),n)})))()}},y={state:b,getters:k,mutations:v,actions:w};r["default"].use(f["a"]);var O=new f["a"].Store({modules:{auth:y}});r["default"].use(d["a"]);var L=new d["a"]({routes:[{path:"/index",component:function(){return Promise.all([t.e("chunk-3a208775"),t.e("chunk-3284425f")]).then(t.bind(null,"8b24"))}},{path:"/user/:userId",component:function(){return Promise.all([t.e("chunk-3a208775"),t.e("chunk-2d21eec9")]).then(t.bind(null,"d843"))}},{path:"/create",component:function(){return Promise.all([t.e("chunk-3a208775"),t.e("chunk-2d0c89ac")]).then(t.bind(null,"561f"))},meta:{requireAuth:!0}},{path:"/detail/:blogId",component:function(){return Promise.all([t.e("chunk-3a208775"),t.e("chunk-60c882d8")]).then(t.bind(null,"d0d1"))}},{path:"/edit/:blogId",component:function(){return Promise.all([t.e("chunk-3a208775"),t.e("chunk-3724e60e")]).then(t.bind(null,"70e2"))},meta:{requireAuth:!0}},{path:"/my",component:function(){return Promise.all([t.e("chunk-3a208775"),t.e("chunk-36169a9c")]).then(t.bind(null,"5b6b"))},meta:{requireAuth:!0}},{path:"/register",component:function(){return t.e("chunk-05a3dc5d").then(t.bind(null,"56b4"))}},{path:"/login",component:function(){return t.e("chunk-3e24fb0d").then(t.bind(null,"013f"))}},{path:"/",redirect:"index"},{path:"*",component:function(){return t.e("chunk-2d212bc4").then(t.bind(null,"aa4b"))}}]});L.beforeEach((function(e,n,t){e.matched.some((function(e){return e.meta.requireAuth}))?O.dispatch("checkLogin").then((function(n){n?t():t({path:"/login",query:{redirect:e.fullPath}})})):t()}));var j=L,P=t("5c96"),x=t.n(P),T=(t("0fae"),t("53ca"));function E(e){var n,t="object"===Object(T["a"])(e)?e:new Date(e),r=t.getTime(),a=Date.now(),u=a-r;switch(!0){case u<6e4:n="刚刚";break;case u<36e5:n=Math.floor(u/6e4)+"分钟前";break;case u<864e5:n=Math.floor(u/36e5)+"小时前";break;default:n=Math.floor(u/864e5)+"天前"}return n}var _={install:function(e){e.prototype.beautyDate=E}};r["default"].config.productionTip=!1,r["default"].use(x.a),r["default"].use(_),new r["default"]({router:j,store:O,render:function(e){return e(l)}}).$mount("#app")},"5c0b":function(e,n,t){"use strict";var r=t("9c0c"),a=t.n(r);a.a},"9c0c":function(e,n,t){}});
//# sourceMappingURL=app.da229c59.js.map